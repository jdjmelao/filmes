@(episodes: Seq[models.Episode], episodeForm: Form[forms.EpisodeForm], serieId: Integer, seasonNumber: Integer, title: String)(implicit request: Http.Request, messages: play.i18n.Messages)

@main(title) {
  <h1>@title</h1>

  @request.flash.asScala().get("fail").map { failFlashValue =>
  <div class="alert alert-warning" role="alert">
    <strong>Fail!</strong> @failFlashValue
  </div>
  }

  <table>
    <thead>
    <tr>
      <th>Episode Number</th>
    </tr>
    </thead>
    <tbody>
    @for(a <- episodes) {
    <tr>
      <td><a href="@controllers.routes.HomeController.episodeid(a.getSeason().getSerie().getId(), a.getSeason().getId(), a.getId())">@a.getName()</a></td>
    </tr>
    }
    </tbody>
  </table>


  @helper.form(action = routes.HomeController.addEpisode()) {
  @helper.CSRF.formField
<div style="display: none;">
  @helper.inputText(
    episodeForm("serieId").copy(value=Some(serieId.toString)),
    'type -> "number"
  )
  @helper.inputText(
    episodeForm("seasonNumber").copy(value=Some(seasonNumber.toString)),
    'type -> "number"
  )
</div>
  @helper.inputText(
    episodeForm("ep_number"),
    'type -> "number"
  )
  @helper.inputText(
    episodeForm("name")
  )
  @helper.inputText(
    episodeForm("duration_minutes"),
    'type -> "number"
  )
  @helper.inputDate(episodeForm("release_date"))
  @helper.inputText(
    episodeForm("classification"),
    'type -> "number"
  )
  <button type="submit">Create Episode</button>
  }

}